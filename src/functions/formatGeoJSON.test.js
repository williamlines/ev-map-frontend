const formatGeoJson = require("./formatGeoJSON");

describe("formatGeoJSON function", () => {
  it("can format coordinates to GeoJSON", () => {
    const result = formatGeoJson({
      geometry: {
        coordinates: [
          [-70.990234, 42.521906],
          [-70.98827, 42.522461],
          [-70.988785, 42.523376],
          [-70.984537, 42.523044],
          [-70.982179, 42.524254],
          [-70.980576, 42.522105],
          [-70.975138, 42.521136],
          [-70.972453, 42.516016],
          [-70.975775, 42.515965],
          [-70.980394, 42.513075],
          [-70.987322, 42.511513],
          [-70.978655, 42.506292],
          [-70.975299, 42.501238],
          [-70.977913, 42.498607],
          [-70.973396, 42.495478],
          [-70.976935, 42.492919],
          [-70.982559, 42.492389],
          [-70.979888, 42.487944],
          [-70.981688, 42.486614],
          [-70.983324, 42.480234],
          [-70.986445, 42.477632],
          [-70.985373, 42.473105],
          [-70.986816, 42.469681],
          [-70.983501, 42.46552],
          [-70.986536, 42.463483],
          [-70.986502, 42.461933],
          [-70.993433, 42.456648],
          [-71.00119, 42.45586],
          [-71.015322, 42.451125],
          [-71.014969, 42.439023],
          [-71.024226, 42.432296],
          [-71.021985, 42.428447],
          [-71.022645, 42.427281],
          [-71.020657, 42.426028],
          [-71.018514, 42.427529],
          [-71.015962, 42.425535],
        ],
        type: "LineString",
      },
      legs: [
        {
          steps: [],
          summary: "",
          weight: 5279.8,
          duration: 5587.5,
          distance: 18087,
        },
      ],
      weight_name: "cyclability",
      weight: 5279.8,
      duration: 5587.5,
      distance: 18087,
    });
    expect(result).toEqual({
      type: "Feature",
      properties: {},
      geometry: {
        coordinates: [
          [-70.990234, 42.521906],
          [-70.98827, 42.522461],
          [-70.988785, 42.523376],
          [-70.984537, 42.523044],
          [-70.982179, 42.524254],
          [-70.980576, 42.522105],
          [-70.975138, 42.521136],
          [-70.972453, 42.516016],
          [-70.975775, 42.515965],
          [-70.980394, 42.513075],
          [-70.987322, 42.511513],
          [-70.978655, 42.506292],
          [-70.975299, 42.501238],
          [-70.977913, 42.498607],
          [-70.973396, 42.495478],
          [-70.976935, 42.492919],
          [-70.982559, 42.492389],
          [-70.979888, 42.487944],
          [-70.981688, 42.486614],
          [-70.983324, 42.480234],
          [-70.986445, 42.477632],
          [-70.985373, 42.473105],
          [-70.986816, 42.469681],
          [-70.983501, 42.46552],
          [-70.986536, 42.463483],
          [-70.986502, 42.461933],
          [-70.993433, 42.456648],
          [-71.00119, 42.45586],
          [-71.015322, 42.451125],
          [-71.014969, 42.439023],
          [-71.024226, 42.432296],
          [-71.021985, 42.428447],
          [-71.022645, 42.427281],
          [-71.020657, 42.426028],
          [-71.018514, 42.427529],
          [-71.015962, 42.425535],
        ],
        type: "LineString",
      },
    });
  });
});
